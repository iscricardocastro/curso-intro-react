{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\n\nfunction useLocalStorage(itemName, initialValue) {\n  _s();\n\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [item, setItem] = useState(initialValue);\n  useEffect(() => {\n    setTimeout(() => {\n      try {\n        const localStorageItem = localStorage.getItem(itemName);\n        let parsedItem; // (!localStorageTodos) ?\n\n        if (!localStorageItem) {\n          localStorage.setItem(itemName, JSON.stringify(initialValue));\n          parsedItem = initialValue;\n        } else {\n          parsedItem = JSON.parse(localStorageItem);\n        }\n\n        setItem(parsedItem);\n        setLoading(false);\n      } catch (error) {\n        setError(error);\n      }\n    }, 1000);\n  });\n\n  const saveItem = newItem => {\n    try {\n      const stringifiedItem = JSON.stringify(newItem);\n      localStorage.setItem(itemName, stringifiedItem);\n      setItem(newItem);\n    } catch (error) {\n      setError(error);\n    }\n  };\n\n  return {\n    item,\n    saveItem,\n    loading,\n    error\n  };\n}\n\n_s(useLocalStorage, \"hx7Y7bN8jdZVcIP55e9LRaGqhao=\");\n\nexport { useLocalStorage };","map":{"version":3,"names":["React","useState","useEffect","useLocalStorage","itemName","initialValue","loading","setLoading","error","setError","item","setItem","setTimeout","localStorageItem","localStorage","getItem","parsedItem","JSON","stringify","parse","saveItem","newItem","stringifiedItem"],"sources":["/Users/ricardo/Documents/proyectos/reactjs/curso-intro-react/src/TodoContext/useLocalStorage.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\n\nfunction useLocalStorage(itemName, initialValue){\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(false);\n    const [item, setItem] = useState(initialValue);\n  \n    useEffect(() => {\n      setTimeout(() => {\n        try {\n          const localStorageItem = localStorage.getItem(itemName);\n          let parsedItem;\n          // (!localStorageTodos) ?\n          if(!localStorageItem){\n            localStorage.setItem(itemName,JSON.stringify(initialValue));\n            parsedItem = initialValue;\n          }else{\n            parsedItem = JSON.parse(localStorageItem);\n          }\n  \n          setItem(parsedItem);\n          setLoading(false);\n        } catch (error) {\n          setError(error);\n        }\n  \n        \n      },1000);\n    });\n  \n    const saveItem = (newItem) => {\n      try{\n        const stringifiedItem = JSON.stringify(newItem);\n        localStorage.setItem(itemName,stringifiedItem);\n        setItem(newItem);\n      }catch (error){\n        setError(error);\n      }\n    }\n  \n    return {\n      item,\n      saveItem,\n      loading,\n      error\n    };\n}\n\nexport {useLocalStorage};"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;;AAEA,SAASC,eAAT,CAAyBC,QAAzB,EAAmCC,YAAnC,EAAgD;EAAA;;EAC5C,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBN,QAAQ,CAAC,IAAD,CAAtC;EACA,MAAM,CAACO,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAC,KAAD,CAAlC;EACA,MAAM,CAACS,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,CAACI,YAAD,CAAhC;EAEAH,SAAS,CAAC,MAAM;IACdU,UAAU,CAAC,MAAM;MACf,IAAI;QACF,MAAMC,gBAAgB,GAAGC,YAAY,CAACC,OAAb,CAAqBX,QAArB,CAAzB;QACA,IAAIY,UAAJ,CAFE,CAGF;;QACA,IAAG,CAACH,gBAAJ,EAAqB;UACnBC,YAAY,CAACH,OAAb,CAAqBP,QAArB,EAA8Ba,IAAI,CAACC,SAAL,CAAeb,YAAf,CAA9B;UACAW,UAAU,GAAGX,YAAb;QACD,CAHD,MAGK;UACHW,UAAU,GAAGC,IAAI,CAACE,KAAL,CAAWN,gBAAX,CAAb;QACD;;QAEDF,OAAO,CAACK,UAAD,CAAP;QACAT,UAAU,CAAC,KAAD,CAAV;MACD,CAbD,CAaE,OAAOC,KAAP,EAAc;QACdC,QAAQ,CAACD,KAAD,CAAR;MACD;IAGF,CAnBS,EAmBR,IAnBQ,CAAV;EAoBD,CArBQ,CAAT;;EAuBA,MAAMY,QAAQ,GAAIC,OAAD,IAAa;IAC5B,IAAG;MACD,MAAMC,eAAe,GAAGL,IAAI,CAACC,SAAL,CAAeG,OAAf,CAAxB;MACAP,YAAY,CAACH,OAAb,CAAqBP,QAArB,EAA8BkB,eAA9B;MACAX,OAAO,CAACU,OAAD,CAAP;IACD,CAJD,CAIC,OAAOb,KAAP,EAAa;MACZC,QAAQ,CAACD,KAAD,CAAR;IACD;EACF,CARD;;EAUA,OAAO;IACLE,IADK;IAELU,QAFK;IAGLd,OAHK;IAILE;EAJK,CAAP;AAMH;;GA5CQL,e;;AA8CT,SAAQA,eAAR"},"metadata":{},"sourceType":"module"}